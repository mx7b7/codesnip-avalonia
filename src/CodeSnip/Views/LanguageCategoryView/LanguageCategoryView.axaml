<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="CodeSnip.Views.LanguageCategoryView.LanguageCategoryView"
			 xmlns:vm="clr-namespace:CodeSnip.Views.LanguageCategoryView"
			 x:DataType="vm:LanguageCategoryViewModel"
			 xmlns:helpers="clr-namespace:CodeSnip.Helpers"
			 Background="{DynamicResource ThemeBackgroundBrush}">

	<UserControl.Resources>
		<helpers:BoolToAddCancelConverter x:Key="BoolToAddCancelConverter"/>
	</UserControl.Resources>

	<ScrollViewer VerticalScrollBarVisibility="Auto">
		<StackPanel Margin="10">

			<!-- LANGUAGES SECTION -->
			<TextBlock Text="Languages:" FontWeight="Bold" Margin="0,10,0,5"/>
			<ListBox ItemsSource="{Binding Languages}"
                     SelectedItem="{Binding SelectedLanguage}"
					 DisplayMemberBinding="{Binding Name}"
                     Height="100"
					 SelectionMode="Single"/>

			<TextBlock Text="Language Extension:" FontWeight="Bold" Margin="0,10,0,0"/>
			<TextBox Text="{Binding NewLanguageCode}" />

			<TextBlock Text="Language Name:" FontWeight="Bold" Margin="0,5,0,0"/>
			<TextBox Text="{Binding NewLanguageName}" />
			<StackPanel Margin="0,10,0,0" Orientation="Horizontal" HorizontalAlignment="Left" Spacing="10">
				<Button  Content="{Binding IsAddingLanguage, Converter={StaticResource BoolToAddCancelConverter}}"
						Command="{Binding ToggleAddLanguageCommand}"/>
				<Button Content="Save" Command="{Binding SaveLanguageCommand}"/>
				<Button Content="Delete" Command="{Binding DeleteLanguageCommand}"/>
				<Button Command="{Binding ForceDeleteLanguageCommand}" Background="Transparent"
						ToolTip.Tip="Deletes the language and ALL its categories and snippets">
					<Path Data="{StaticResource DeleteAlert}" Fill="Red" Width="28" Height="28" Stretch="Uniform"/>
				</Button>
			</StackPanel>

			<Separator Margin="0,40,0,40"/>

			<!-- CATEGORIES SECTION -->
			<TextBlock Text="Categories for selected language:" FontWeight="Bold" />
			<ComboBox ItemsSource="{Binding Languages}"
                      SelectedItem="{Binding SelectedLanguageForCategory}"
				      DisplayMemberBinding="{Binding Name}"
                      Margin="0,5,0,0"
					  HorizontalAlignment="Stretch"/>

			<ListBox ItemsSource="{Binding FilteredCategories}"
                     SelectedItem="{Binding SelectedCategory}"
				     DisplayMemberBinding="{Binding Name}"
                     Height="100"
                     Margin="0,10,0,0"
					 SelectionMode="Single"/>

			<TextBlock Text="Category Name:" FontWeight="Bold" Margin="0,10,0,0"/>
			<TextBox Text="{Binding NewCategoryName}" />

			<StackPanel  Margin="0,10,0,0" Orientation="Horizontal" HorizontalAlignment="Left" Spacing="10">
				<Button Content="{Binding IsAddingCategory, Converter={StaticResource BoolToAddCancelConverter}}"
						Command="{Binding ToggleAddCategoryCommand}"/>
				<Button Content="Save" Command="{Binding SaveCategoryCommand}"/>
				<Button Content="Delete" Command="{Binding DeleteCategoryCommand}"/>
				<Button Command="{Binding ForceDeleteCategoryCommand}" Background="Transparent"
						ToolTip.Tip="Deletes the category and ALL its snippets">
					<Path Data="{StaticResource DeleteAlert}" Fill="Red" Width="28" Height="28"  Stretch="Uniform"/>
				</Button>
			</StackPanel>

			<StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,30,0,0">
				<Button Content="Close" Width="80" Margin="0,0,10,0" Command="{Binding CloseCommand}"
						HorizontalContentAlignment="Center"/>
			</StackPanel>
		</StackPanel>
	</ScrollViewer>
  
</UserControl>
